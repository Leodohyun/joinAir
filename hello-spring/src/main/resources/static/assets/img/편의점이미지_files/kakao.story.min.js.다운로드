/**
 * Kakao SDK for JavaScript - v1.43.1
 *
 * Copyright 2017 Kakao Corp.
 *
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 *
 * OSS Notice | KakaoSDK-Javascript
 *
 * This application is Copyright © Kakao Corp. All rights reserved.
 * The following sets forth attribution notices for third party software that may be contained in this application.
 * If you have any questions or concerns, please contact us at opensource@kakaocorp.com
 *
 *
 * crypto-js
 *
 * https://github.com/brix/crypto-js
 *
 * Copyright 2009-2013 Jeff Mott
 * Copyright 2013-2016 Evan Vosberg
 *
 * MIT License
 *
 *
 * easyXDM
 *
 * https://github.com/oyvindkinsey/easyXDM/
 *
 * Copyright 2009-2011 Øyvind Sean Kinsey, oyvind@kinsey.no
 *
 * MIT License
 *
 *
 * ES6-Promise
 *
 * https://github.com/stefanpenner/es6-promise
 *
 * Copyright 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors
 *
 * MIT License
 *
 *
 * Kakao Web2App Library
 *
 * https://github.com/kakao/web2app
 *
 * Copyright 2015 Kakao Corp. http://www.kakaocorp.com
 *
 * MIT License
 *
 *
 * lodash
 *
 * https://github.com/lodash/lodash
 *
 * Copyright JS Foundation and other contributors
 *
 * MIT License
 *
 *
 * ua_parser
 *
 * https://github.com/html5crew/ua_parser
 *
 * Copyright HTML5 Tech. Team in Daum Communications Corp.
 *
 * MIT License
 *
 *
 * ``````````
 * MIT License
 *
 * Copyright (c)
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * 'Software'), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ``````````
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Kakao=t.Kakao||{})}(this,(function(t){"use strict";var e="object"==typeof global&&global&&global.Object===Object&&global,n="object"==typeof self&&self&&self.Object===Object&&self,r=e||n||Function("return this")(),o=r.Symbol,a=Object.prototype,i=a.hasOwnProperty,c=a.toString,u=o?o.toStringTag:void 0;var l=Object.prototype.toString;var s=o?o.toStringTag:void 0;function f(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?function(t){var e=i.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var o=c.call(t);return r&&(e?t[u]=n:delete t[u]),o}(t):function(t){return l.call(t)}(t)}function p(t){return null!=t&&"object"==typeof t}var d=Array.isArray;function h(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function y(t){return t}function m(t){if(!h(t))return!1;var e=f(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var v,b=r["__core-js_shared__"],w=(v=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"";var g=Function.prototype.toString;var k=/^\[object .+?Constructor\]$/,j=Function.prototype,A=Object.prototype,S=j.toString,O=A.hasOwnProperty,x=RegExp("^"+S.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _(t){return!(!h(t)||(e=t,w&&w in e))&&(m(t)?x:k).test(function(t){if(null!=t){try{return g.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}function I(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var E=Date.now;var T,L,F,U=function(){try{var t=_(e=function(t,e){return null==t?void 0:t[e]}(Object,"defineProperty"))?e:void 0;return t({},"",{}),t}catch(t){}var e}(),C=U,P=C?function(t,e){return C(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:y,R=(T=P,L=0,F=0,function(){var t=E(),e=16-(t-F);if(F=t,e>0){if(++L>=800)return arguments[0]}else L=0;return T.apply(void 0,arguments)}),K=R;function z(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}var B=/^(?:0|[1-9]\d*)$/;function $(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&B.test(t))&&t>-1&&t%1==0&&t<e}function D(t,e,n){"__proto__"==e&&C?C(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function q(t,e){return t===e||t!=t&&e!=e}var M=Object.prototype.hasOwnProperty;function N(t,e,n){var r=t[e];M.call(t,e)&&q(r,n)&&(void 0!==n||e in t)||D(t,e,n)}var J=Math.max;function H(t,e){return K(function(t,e,n){return e=J(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=J(r.length-e,0),i=Array(a);++o<a;)i[o]=r[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=r[o];return c[e]=n(i),I(t,this,c)}}(t,e,y),t+"")}function W(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function V(t){return null!=t&&W(t.length)&&!m(t)}function G(t,e,n){if(!h(n))return!1;var r=typeof e;return!!("number"==r?V(n)&&$(e,n.length):"string"==r&&e in n)&&q(n[e],t)}var Q=Object.prototype;function X(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Q)}function Y(t){return p(t)&&"[object Arguments]"==f(t)}var Z=Object.prototype,tt=Z.hasOwnProperty,et=Z.propertyIsEnumerable,nt=Y(function(){return arguments}())?Y:function(t){return p(t)&&tt.call(t,"callee")&&!et.call(t,"callee")},rt=nt;var ot="object"==typeof t&&t&&!t.nodeType&&t,at=ot&&"object"==typeof module&&module&&!module.nodeType&&module,it=at&&at.exports===ot?r.Buffer:void 0,ct=(it?it.isBuffer:void 0)||function(){return!1},ut={};ut["[object Float32Array]"]=ut["[object Float64Array]"]=ut["[object Int8Array]"]=ut["[object Int16Array]"]=ut["[object Int32Array]"]=ut["[object Uint8Array]"]=ut["[object Uint8ClampedArray]"]=ut["[object Uint16Array]"]=ut["[object Uint32Array]"]=!0,ut["[object Arguments]"]=ut["[object Array]"]=ut["[object ArrayBuffer]"]=ut["[object Boolean]"]=ut["[object DataView]"]=ut["[object Date]"]=ut["[object Error]"]=ut["[object Function]"]=ut["[object Map]"]=ut["[object Number]"]=ut["[object Object]"]=ut["[object RegExp]"]=ut["[object Set]"]=ut["[object String]"]=ut["[object WeakMap]"]=!1;var lt="object"==typeof t&&t&&!t.nodeType&&t,st=lt&&"object"==typeof module&&module&&!module.nodeType&&module,ft=st&&st.exports===lt&&e.process,pt=function(){try{var t=st&&st.require&&st.require("util").types;return t||ft&&ft.binding&&ft.binding("util")}catch(t){}}(),dt=pt&&pt.isTypedArray,ht=dt?function(t){return function(e){return t(e)}}(dt):function(t){return p(t)&&W(t.length)&&!!ut[f(t)]},yt=ht,mt=Object.prototype.hasOwnProperty;function vt(t,e){var n=d(t),r=!n&&rt(t),o=!n&&!r&&ct(t),a=!n&&!r&&!o&&yt(t),i=n||r||o||a,c=i?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=c.length;for(var l in t)!e&&!mt.call(t,l)||i&&("length"==l||o&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||$(l,u))||c.push(l);return c}function bt(t,e){return function(n){return t(e(n))}}var wt=bt(Object.keys,Object),gt=Object.prototype.hasOwnProperty;function kt(t){return V(t)?vt(t):function(t){if(!X(t))return wt(t);var e=[];for(var n in Object(t))gt.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}var jt=Object.prototype.hasOwnProperty;function At(t){if(!h(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=X(t),n=[];for(var r in t)("constructor"!=r||!e&&jt.call(t,r))&&n.push(r);return n}function St(t){return V(t)?vt(t,!0):At(t)}var Ot,xt=(Ot=function(t,e){!function(t,e,n,r){var o=!n;n||(n={});for(var a=-1,i=e.length;++a<i;){var c=e[a],u=r?r(n[c],t[c],c,n,t):void 0;void 0===u&&(u=t[c]),o?D(n,c,u):N(n,c,u)}}(e,St(e),t)},H((function(t,e){var n=-1,r=e.length,o=r>1?e[r-1]:void 0,a=r>2?e[2]:void 0;for(o=Ot.length>3&&"function"==typeof o?(r--,o):void 0,a&&G(e[0],e[1],a)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var i=e[n];i&&Ot(t,i,n,o)}return t}))),_t=bt(Object.getPrototypeOf,Object),It=Function.prototype,Et=Object.prototype,Tt=It.toString,Lt=Et.hasOwnProperty,Ft=Tt.call(Object);var Ut,Ct=function(t,e,n){for(var r=-1,o=Object(t),a=n(t),i=a.length;i--;){var c=a[Ut?i:++r];if(!1===e(o[c],c,o))break}return t};var Pt=function(t,e){return function(n,r){if(null==n)return n;if(!V(n))return t(n,r);for(var o=n.length,a=e?o:-1,i=Object(n);(e?a--:++a<o)&&!1!==r(i[a],a,i););return n}}((function(t,e){return t&&Ct(t,e,kt)})),Rt=Pt,Kt=Object.prototype,zt=Kt.hasOwnProperty,Bt=H((function(t,e){t=Object(t);var n=-1,r=e.length,o=r>2?e[2]:void 0;for(o&&G(e[0],e[1],o)&&(r=1);++n<r;)for(var a=e[n],i=St(a),c=-1,u=i.length;++c<u;){var l=i[c],s=t[l];(void 0===s||q(s,Kt[l])&&!zt.call(t,l))&&(t[l]=a[l])}return t}));function $t(t,e){var n;return(d(t)?z:Rt)(t,"function"==typeof(n=e)?n:y)}function Dt(t){return"string"==typeof t||!d(t)&&p(t)&&"[object String]"==f(t)}function qt(t){return!0===t||!1===t||p(t)&&"[object Boolean]"==f(t)}function Mt(t){return p(t)&&1===t.nodeType&&!function(t){if(!p(t)||"[object Object]"!=f(t))return!1;var e=_t(t);if(null===e)return!0;var n=Lt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Tt.call(n)==Ft}(t)}function Nt(t,e){return Array.prototype.slice.call(t).map(e)}function Jt(t,e){return[t,e].reduce((function(t,e){return t.filter((function(t){return-1===e.indexOf(t)}))}))}function Ht(t){return Object.keys(t||{})}function Wt(t){return Mt(t)?t:Dt(t)?document.querySelector(t):null}function Vt(t,e,n){t.addEventListener&&t.addEventListener(e,n,!1)}function Gt(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}function Qt(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e?encodeURIComponent:function(t){return t},r=Nt(Ht(t),(function(e){var r=t[e];return n(e)+"="+n(p(r)?JSON.stringify(r):r)}));return r.join("&")}function Xt(t){if(!d(t))throw new Error("validators should be an Array");return function(e){return t.some((function(t){return t(e)}))}}function Yt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||te(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zt(t){return function(t){if(Array.isArray(t))return ee(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||te(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(t,e){if(t){if("string"==typeof t)return ee(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(t,e):void 0}}function ee(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}!function(){var t={_data:{},setItem:function(t,e){return this._data[t]=String(e)},getItem:function(t){return this._data.hasOwnProperty(t)?this._data[t]:null},removeItem:function(t){return delete this._data[t]},clear:function(){return this._data={}}};try{"localStorage"in window&&null!==window.localStorage&&(window.localStorage.setItem("store",""),window.localStorage.removeItem("store"),window.localStorage)}catch(e){return t}}();var ne=function(){function t(t){var n={},r=/(dolfin)[ \/]([\w.]+)/.exec(t)||/(edge)[ \/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(tizen)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(webkit)(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(t)||["","unknown"];return"webkit"===r[1]?r=/(iphone|ipad|ipod)[\S\s]*os ([\w._\-]+) like/.exec(t)||/(android)[ \/]([\w._\-]+);/.exec(t)||[r[0],"safari",r[2]]:"mozilla"===r[1]?/trident/.test(t)?r[1]="msie":r[1]="firefox":/polaris|natebrowser|([010|011|016|017|018|019]{3}\d{3,4}\d{4}$)/.test(t)&&(r[1]="polaris"),n[r[1]]=!0,n.name=r[1],n.version=e(r[2]),n}function e(t){var e={},n=t?t.split(/\.|-|_/):["0","0","0"];return e.info=n.join("."),e.major=n[0]||"0",e.minor=n[1]||"0",e.patch=n[2]||"0",e}function n(t){return function(t){if(t.match(/ipad/)||t.match(/android/)&&!t.match(/mobi|mini|fennec/)||t.match(/macintosh/)&&window.navigator.maxTouchPoints>1)return!0;return!1}(t)?"tablet":function(t){if(t.match(/linux|windows (nt|98)|macintosh|cros/)&&!t.match(/android|mobile|polaris|lgtelecom|uzard|natebrowser|ktf;|skt;/))return!0;return!1}(t)?"pc":function(t){return!!t.match(/ip(hone|od)|android.+mobile|windows (ce|phone)|blackberry|bb10|symbian|webos|firefox.+fennec|opera m(ob|in)i|tizen.+mobile|polaris|iemobile|lgtelecom|nokia|sonyericsson|dolfin|uzard|natebrowser|ktf;|skt;/)}(t)?"mobile":""}function r(t){var n={},r=/(iphone|ipad|ipod)[\S\s]*os ([\w._\-]+) like/.exec(t)||!!/polaris|natebrowser|([010|011|016|017|018|019]{3}\d{3,4}\d{4}$)/.test(t)&&["","polaris","0.0.0"]||/(windows)(?: nt | phone(?: os){0,1} | )([\w._\-]+)/.exec(t)||/(android)[ \/]([\w._\-]+);/.exec(t)||!!/android/.test(t)&&["","android","0.0.0"]||!!/(windows)/.test(t)&&["","windows","0.0.0"]||/(mac) os x ([\w._\-]+)/.exec(t)||/(tizen)[ \/]([\w._\-]+);/.exec(t)||!!/(linux)/.test(t)&&["","linux","0.0.0"]||!!/webos/.test(t)&&["","webos","0.0.0"]||/(cros)(?:\s[\w]+\s)([\d._\-]+)/.exec(t)||/(bada)[ \/]([\w._\-]+)/.exec(t)||!!/bada/.test(t)&&["","bada","0.0.0"]||!!/(rim|blackberry|bb10)/.test(t)&&["","blackberry","0.0.0"]||["","unknown","0.0.0"];return"iphone"===r[1]||"ipad"===r[1]||"ipod"===r[1]?r[1]="ios":"windows"===r[1]&&"98"===r[2]&&(r[2]="0.98.0"),"mac"===r[1]&&"undefined"!=typeof window&&window.navigator.maxTouchPoints>1&&(r[1]="ios"),"cros"===r[1]&&(r[1]="chrome"),n[r[1]]=!0,n.name=r[1],n.version=e(r[2]),n}Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var o=["crios","fxios","daumapps"];function a(t,n){var r={},a=null,i=o;Array.isArray(n)?i=o.concat(n):"string"==typeof n&&(i=o.concat([n]));for(var c=0,u=i.length;c<u;c+=1){var l=i[c];if(a=new RegExp("("+l+")[ \\/]([\\w._\\-]+)").exec(t))break}return a||(a=["",""]),a[1]?(r.isApp=!0,r.name=a[1],r.version=e(a[2])):r.isApp=!1,r}return function(e,o){var i=function(t){return t?t.toLowerCase():"undefined"!=typeof window&&window.navigator&&"string"==typeof window.navigator.userAgent?window.navigator.userAgent.toLowerCase():""}(e);return{ua:i,browser:t(i),platform:n(i),os:r(i),app:a(i,o)}}}(),re=ne();var oe,ae,ie,ce,ue="https://kauth.kakao.com",le="https://story.kakao.com",se="https://developers.kakao.com",fe=(oe=location,ae=oe.protocol,ie=oe.hostname,ce=oe.port,"".concat(ae,"//").concat(ie).concat(ce?":"+ce:"")),pe=re;/KAKAOTALK/i.test(pe.ua);var de="1.43.1".concat(""),he=navigator,ye=["sdk/".concat(de),"os/javascript","sdk_type/javascript","lang/".concat(he.userLanguage||he.language),"device/".concat(he.platform.replace(/ /g,"_")),"origin/".concat(encodeURIComponent(fe))].join(" "),me={accountDomain:"https://accounts.kakao.com",authDomain:ue,authorize:"".concat(ue,"/oauth/authorize"),loginWidget:"".concat(ue,"/public/widget/login/kakaoLoginWidget.html"),redirectUri:"JS-SDK",universalKakaoLink:"".concat("https://talk-apps.kakao.com","/scheme/"),talkLoginScheme:"kakaokompassauth://authorize",talkLoginRedirectUri:"https://kapi.kakao.com/cors/afterlogin.html",talkInappScheme:"kakaotalk://inappbrowser",talkSyncpluginScheme:"kakaotalk://bizplugin?plugin_id=6011263b74fc2b49c73a7298",apiRemote:"".concat("https://kapi.kakao.com","/cors/"),sharerDomain:"https://sharer.kakao.com",pickerDomain:"https://friend-picker.kakao.com",appsDomain:"https://apps.kakao.com",talkLinkScheme:"kakaolink://send",talkAndroidPackage:"com.kakao.talk",channel:"https://pf.kakao.com",channelIcon:"".concat(se,"/assets/img/about/logos"),storyShare:"".concat(le,"/s/share"),storyChannelFollow:"".concat(le,"/s/follow"),storyIcon:"".concat(se,"/sdk/js/resources/story/icon_small.png"),storyPostScheme:"storylink://posting",naviScheme:"kakaonavi-sdk://navigate",naviFallback:"https://kakaonavi.kakao.com/launch/index.do"},ve=null;function be(){return ve}function we(t){ve=t}function ge(t){Error.prototype.constructor.apply(this,arguments),this.name="KakaoError",this.message=t}function ke(t,e,n){if(!1===e(t))throw new ge("Illegal argument for ".concat(n))}function je(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(!p(t))throw new Error("params should be an Object");m(e.before)&&e.before(t),m(e.defaults)?Bt(t,e.defaults(t)):Bt(t,e.defaults);var r=e.required,o=void 0===r?{}:r,a=e.optional,i=void 0===a?{}:a,c=Jt(Ht(o),Ht(t));if(c.length>0)throw new ge("Missing required keys: ".concat(c.join(",")," at ").concat(n));var u=xt({},o,i),l=Jt(Ht(t),Ht(u));if(l.length>0)throw new ge("Invalid parameter keys: ".concat(l.join(",")," at ").concat(n));return $t(t,(function(t,e){ke(t,u[e],'"'.concat(e,'" in ').concat(n))})),m(e.after)&&e.after(t),t}function Ae(t,e){if(pe.os.android){var n=JSON.stringify({appKey:ve,KA:ye});return"market://details?id=".concat(t,"&referrer=").concat(n)}return pe.os.ios?"https://itunes.apple.com/app/id".concat(e):location.href}ge.prototype=new Error;var Se={};function Oe(t,e,n){$t(n,(function(n,r){var o=e.getAttribute(n);null!==o&&(t[r]="true"===o||"false"===o?"true"===o:o)}))}var xe=function(){var t=ne(),e=t.os,n=["opr/"],r=["firefox","KAKAOTALK"];function o(t){window.top.location.href=t}function a(t,e,n){var r=(new Date).getTime();return setTimeout((function(){var o=(new Date).getTime();i()&&o-r<t+100&&n(e)}),t)}function i(){for(var t=["hidden","webkitHidden"],e=0,n=t.length;e<n;e++)if(void 0!==document[t[e]])return!document[t[e]];return!0}function c(t){setTimeout((function(){(function(t){var e=document.createElement("iframe");return e.id=t,e.style.border="none",e.style.width="0",e.style.height="0",e.style.display="none",e.style.overflow="hidden",document.body.appendChild(e),e}("appLauncher")).src=t}),100)}return function(u){var l,s,f,p,d="function"==typeof u.willInvokeApp?u.willInvokeApp:function(){},h="function"==typeof u.onAppMissing?u.onAppMissing:o,y="function"==typeof u.onUnsupportedEnvironment?u.onUnsupportedEnvironment:function(){};d(),e.android?(s=t.browser.chrome&&+t.browser.version.major>=25,f=new RegExp(n.join("|"),"i"),p=new RegExp(r.join("|"),"i"),(s&&!f.test(t.ua)||p.test(t.ua))&&u.intentURI&&!u.useUrlScheme?function(e){t.browser.chrome?n():setTimeout(n,100);function n(){top.location.href=e}}(u.intentURI):u.storeURL&&(l=u.urlScheme,a(300,u.storeURL,h),c(l))):e.ios&&u.storeURL?function(e,n,r,o){var u=a(5e3,n,r);parseInt(t.os.version.major,10)<8?function(t){window.addEventListener("pagehide",(function e(){i()&&(clearTimeout(t),window.removeEventListener("pagehide",e))}))}(u):function(t){document.addEventListener("visibilitychange",(function e(){i()&&(clearTimeout(t),document.removeEventListener("visibilitychange",e))}))}(u);parseInt(t.os.version.major,10)>8&&t.os.ios?(void 0===o?o=e:clearTimeout(u),function(t){window.top.location.href=t}(o)):c(e)}(u.urlScheme,u.storeURL,h,u.universalLink):setTimeout((function(){y()}),100)}}(),_e={required:{title:Dt},optional:{desc:Dt,name:Dt,images:d,type:Dt},defaults:{type:"website"},after:function(t){t.images&&(t.imageurl=t.images,delete t.images)}},Ie={createShareButton:{required:{container:Xt([Mt,Dt])},optional:{url:Dt,text:Dt},defaults:{url:location.href}},share:{optional:{url:Dt,text:Dt},defaults:{url:location.href}},open:{optional:{url:Dt,text:Dt,urlInfo:function(t){return p(t)&&!!je(t,_e,"Story.open")},install:qt},defaults:{url:location.href,install:!1}},createFollowButton:{required:{container:Xt([Mt,Dt]),id:Dt},optional:{showFollowerCount:qt,type:function(t){if(!d(t))throw new Error("elements should be an Array");return function(e){return t.indexOf(e)>-1}}(["horizontal","vertical"])},defaults:{showFollowerCount:!0,type:"horizontal"},after:function(t){"@"!==t.id[0]&&(t.id="@".concat(t.id))}}};function Ee(t){var e,n,r,o,a=xt({url:t.url},Le());t.text&&(a.text=t.text),e="".concat(me.storyShare,"?").concat(Qt(a)),r="width=670, height=800, scrollbars=yes",(o=Se[n="kakaostory_social_plugin"])&&o.close&&!o.closed&&o.close(),Se[n]=window.open(e,n,r),Se[n]}var Te=0;function Le(){var t={kakao_agent:ye};return null!==be()&&(t.app_key=be()),t}var Fe=[];var Ue,Ce=(Ue=[Object.freeze({__proto__:null,createShareButton:function(t){var e=Wt(t.container);if(!e)throw new ge("container is required for Story.createShareButton: pass in element or id");Oe(t,e,{url:"data-url"}),t=je(t,Ie.createShareButton,"Story.createShareButton");var n=function(t,e){var n=document.createElement("a");n.setAttribute("href","#");var r=document.createElement("img");return r.setAttribute("src",t),r.setAttribute("title",e),r.setAttribute("alt",e),n.appendChild(r),n}(me.storyIcon,"카카오스토리 웹 공유 버튼");e.appendChild(n);var r=function(e){e.preventDefault(),Ee(t)};Vt(n,"click",r),Fe.push((function(){Gt(n,"click",r),e.removeChild(n)}))},share:function(t){Ee(t=je(t,Ie.share,"Story.share"))},open:function(t){var e=function(t){var e=location.hostname||"",n=xt({apiver:"1.0",appver:de,appid:e,appname:e,post:t.text?"".concat(t.text,"\n").concat(t.url):t.url},Le());t.urlInfo&&(n.urlinfo=JSON.stringify(t.urlInfo),n.appname=t.urlInfo.name||n.appname);return"".concat(me.storyPostScheme,"?").concat(Qt(n))}(t=je(t,Ie.open,"Story.open")),n={urlScheme:e,intentURI:["intent:".concat(e,"#Intent"),"".concat(t.install?"package=com.kakao.story;":"","end;")].join(";"),appName:"KakaoStory",storeURL:Ae("com.kakao.story","486244601"),onUnsupportedEnvironment:function(){t.fail&&t.fail()}};try{xe(n)}catch(t){}},createFollowButton:function(t){var e=Wt(t.container);if(!e)throw new ge("container is required for Story.createFollowButton: pass in element or id");Oe(t,e,{id:"data-id",showFollowerCount:"data-show-follower-count",type:"data-type"});var n=function(t){var e=Te++,n=t.showFollowerCount&&"horizontal"===t.type?85:59,r=t.showFollowerCount&&"vertical"===t.type?46:20,o=document.createElement("iframe");o.src=function(t,e){var n=xt({id:t.id,type:t.type,hideFollower:!t.showFollowerCount,frameId:e},Le());return"".concat(me.storyChannelFollow,"?").concat(Qt(n))}(t,e),o.setAttribute("frameborder","0"),o.setAttribute("marginwidth","0"),o.setAttribute("marginheight","0"),o.setAttribute("scrolling","no"),o.setAttribute("style","width:".concat(n,"px; height:").concat(r,"px;"));var a=function(t){if(t.data&&/\.kakao\.com$/.test(t.origin)&&"string"==typeof t.data){var a=Yt(Nt(t.data.split(","),(function(t){return parseInt(t,10)})),3),i=a[0],c=a[1],u=a[2];i===e&&(n!==c&&(o.style.width="".concat(c,"px")),r!==u&&(o.style.height="".concat(u,"px")))}};return{iframe$:o,messageHandler:a}}(t=je(t,Ie.createFollowButton,"Story.createFollowButton")),r=n.iframe$,o=n.messageHandler;e.appendChild(r),Vt(window,"message",o),Fe.push((function(){Gt(window,"message",o),e.removeChild(r)}))},cleanup:function(){!function(t){$t(t,(function(t){t()})),t.length=0}(Fe)}})],xt.apply(void 0,[{cleanup:function(){$t(Ue,(function(t){return t.cleanup&&t.cleanup()}))}}].concat(Zt(Ue))));function Pe(){return null!==be()}"function"==typeof define&&define.amd&&(window.Kakao=t),t.Story=Ce,"function"==typeof window.kakaoAsyncInit&&setTimeout((function(){window.kakaoAsyncInit()}),0),t.VERSION=de,t.cleanup=function(){var t=this;Object.keys(this).filter((function(e){return p(t[e])})).forEach((function(e){return t[e].cleanup()})),we(null)},t.init=function(t){if(pe.browser.msie&&pe.browser.version.major<9)throw new ge("Kakao.init: Unsupported browser");if(Pe())throw new ge("Kakao.init: Already initialized");if(!Dt(t))throw new ge("Kakao.init: App key must be provided");we(t)},t.isInitialized=Pe,Object.defineProperty(t,"__esModule",{value:!0})}));
